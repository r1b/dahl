// TODO: Eventually this will actually be bytecode and not nasty structs.
// In fact, everything so far should have a more optimized representation.
